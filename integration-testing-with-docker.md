---
updated: February 2024
---
# Integration testing with Docker

A common pattern in the enterprise is to use Docker containers to test service-to-service integrations, both in local development environments and CICD in GitHub Actions

## Testcontainers

[Testcontainers](https://testcontainers.com/) is a multi-language framework (with Java support) to ease the use and lifetime management of Docker containers during unit tests. 

### Rate limiting

By default, `Testcontainers` will download third-party containers from Docker Hub. But traffic generated by automated CICD may cause runners to be rate-limited in their ability to download containers.

Like Java/Scala dependencies, the solution is to use your enterprise's Artifactory instance as a proxy cache.

[`Testcontainers` supports multiple mechanisms for programmatically rewriting Docker image names](https://java.testcontainers.org/features/image_name_substitution/) to specify hosts, such as your Artifactory.

If your tests consume a locally published Docker image (i.e. one created during the CICD process), make sure the host part of the Docker image name is set to empty. Depending on which image name substitution mechanism you used before, you may need to intercept your initial global rewrite and set the host back to empty.
